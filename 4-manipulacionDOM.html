<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trabajo realizado por Rubén Roldán Cantón</title>
    <link rel="stylesheet" href="styles/styles.css">
    <script src="scripts/jquery-3.5.1.js"></script>
    <script src="scripts/script.js"></script>
</head>
<body>
    <div id="main">
        <div id="header">
            <a href="1-index.html"><img src="imgs/logojquery.png" alt="Logo de jQuery" class="logo"></a><br>
            <table id="menu">
                <tr>
                    <td><a href="1-index.html">Introducción</a></td>
                    <td><a href="2-empezando.html">Empezando a usar jQuery</a></td>
                    <td><a href="3-selectores.html">Selectores</a></td>
                    <td><a href="4-manipulacionDOM.html">DOM</a></td>
                    <td><a href="5-efectos.html">Efectos</a></td>
                    <td><a href="#">Eventos</a></td>
                    <td><a href="#">Drag&Drop</a></td>
                </tr>
            </table>
        </div>

        <div id="content">
            <h1>Manipulación del árbol DOM</h1>

            <p>Como ya hemos mencionado, uno de los puntos fuertes de jQuery es cambiar y modificar el contenido y la estructura del árbol DOM generado por el documento HTML.</p>
            <p>En jQuery existen los llamados <b>getters y setters</b> (como estudiamos en Java el 1º) que nos permiten realizar estas acciones.
            </p>

            <h3>Los getters y setters .text(), .html() y .val()</h3>

            <h4>.text()</h4>
            <p>Con este método se obtiene en forma de string el texto contenido en un nodo o de los hijos de dicho nodo. Si queremos almacenarlo en una variable quedaría así:</p>
            <p style="padding-left: 20px;"><b>var x = $("#parrafo1").text()</b></p>

            <p>De esta forma se guardaría en la variable x el texto del elemento con ID "parrafo1".
            </p>

            <p>Si dejamos el método sin pasarle ningún parámetro, actuaría como un <b>getter</b>. En cambio, si le pasamos como parámetro un String, actuaría como un
                <b>setter.</b> Por ejemplo:
            </p>

            <div id="ejemplo" style="padding-left: 100px; font-size: 15px;">
                $("#contenido").text()
                <br>
                <br>
                $("#contenido").text("Esto es un contenido")
            </div>

            <p>Ejemplo:</p>

            <div id="ejemplo">
                <p class="parrafo1">Esto es un párrafo antes de ser cambiado</p><br>
                <button id="cambiar">Cambiar texto</button>
                <button id="obtener">Obtener texto</button>
            </div>

            <h4>.html()</h4>

            <p>Es parecido al método visto anteriormente, con la diferencia que .html() <b>trata la información como formato HTML</b> mientras que .text() como <b>texto plano</b>.
                Viendo este ejemplo va a quedar todo mucho más claro:
            </p>

            <div id="ejemplo">
                <div class="muestra">
                    <p>Soy un parráfo dentro de muestra.</p>
                    <ul>
                        <li>Soy una lista dentro de muestra</li>
                    </ul>

                    
                    <span>Soy un span dentro de muestra</span><br>
                    <input type="text" id="inputmuestra"><br><br>
                </div>
                <button id="obtenertext">.text()</button>
                <button id="obtenerhtml">.html()</button>
                <button id="obtenertextinputmuestra">Y si...¿fuese un input?</button>
            </div>

            <h4>.val()</h4>
            <p>Como hemos visto, los métodos .html() ni .text() obtienen el contenido de un input. El encargado de esta labor es
                .val(), que recoge el valor del atributo "value" de los campos de un formulario. Ya sean los input,
                los select, los textarea, etc.
            </p>
            <p>Al igual que los anteriores métodos, si no le pasamos ningún parámetro actúa como <b>getter</b>; y si le pasamos contenido
                actúa como <b>setter</b>.
            </p>

            Ejemplos:

            <div id="ejemplo">
                <form action="procesar.php" method="get">
                    <fieldset>
                        <h4>Formulario de alta de usuarios</h4>
                        Nombre: <input type="text" name="nombre"><br>
                        Sexo:
                        <input type="radio" name="genero" value="Hombre" checked/>Hombre
                        <input type="radio" name="genero" value="Mujer" />Mujer
                        <br>
                        ¿Qué SO usas?<br>
                        <input type="checkbox" name="sistema" value="Windows" />Windows
                        <input type="checkbox" name="sistema" value="Ubuntu" />Ubuntu
                        <br>
                        Edad:
                        <select name="edad">
                            <option value="-18">Menos de 18</option>
                            <option value="18">18</option>
                            <option value="+18">Más de 18</option>
                        </select>
                    </fieldset>
                </form>

                <br><br>
                <button id="text">Text</button>
                <button id="radio">Radio</button>
                <button id="checkbox">Checkbox</button>
                <button id="select">Select</button>
                <button id="textcambiar">Cambiar valor text</button>
                <button id="selectcambiar">Cambiar valor select</button>
            </div>

            <h3>Manipulación de atributos con .attr() y .css()</h3>
            <p>Con los métodos anteriormente vistos podemos manipular el contenido de los nodos. A continuación, vamos a ver
                cómo manipular sus atributos.
            </p>

            <h4>.attr()</h4>

            <p>Permite obtener el valor de un atributo del elemento seleccionado en el objeto jQuery o asignar el valor que
                queramos a ese atributo o atributos. Por ejemplo:
            </p>

            <div id="ejemplo" style="padding-left: 100px;">
                alert($("div").attr("class"));<br>
                alert($("img").attr("src"));<br><br>
                $("div").attr("class","clase2");<br>
                $("img").attr("src","imgs/foto2.png");
            </div>

            <p>Ejemplo práctico:</p>
            <div id="ejemplo" style="padding-left: 100px;">
                <p class="parrafocambiarcolor" alt="Alt antes de ser cambiado">Este texto tiene un fondo amarillo</p>
                <button id="muestracolor">¿Cuál es su valor de alt?</button>
                <button id="cambiacolor">Cambiar atributo alt</button>
            </div>

            <h4>.css()</h4>
            <p>Este método permite ver el valor de la propiedad CSS del elemento y añadir nuevas propiedades y valores.
                Si queremos obtener el valor de mas de 1 propiedad nos devolvera los valores en formato array.
            </p>
            <p>Ejemplo:</p>

            <div id="ejemplo">
                <div id="ejemplocss">
                    <p style="background-color: yellow;">Hola me llamo Pepe</p>
                    <p style="background-color: pink;">Hola me llamo Juan</p>
                </div>
                <button id="obtenerpepe">¿De qué color es Pepe?</button>
                <button id="obtenerjuan">¿De qué color es Juan?</button>
                <button id="cambiardos">¿Quieres cambiar sus colores?</button>
            </div>
        </div>

        <div id="footer">
            <center>Documento realizado por Rubén Roldán Cantón 2020/2021</center>
        </div>
    </div>
</body>
</html>